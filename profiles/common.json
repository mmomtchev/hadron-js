{
  "minimumXpmRequired": "0.20.0",
  "properties": {
    "hadronProfile": "conan+meson-dual-async",
    "hadronProfilesPath": "{% hadronProfilesPath %}{{ path.sep }}{{ properties.hadronProfile }}",
    "buildFolderRelativePath": "{{ 'build' | path_join: configuration.name | to_filename | downcase }}",
    "installFolderPath": "{{ '/' | path_join: properties.cwd | path_join: 'lib' | path_join: 'binding' | path_join: properties.platformId }}",
    "commandShowEnv": {
      "win32": "set",
      "linux": "env",
      "darwin": "env"
    },
    "commandCat": {
      "win32": "type",
      "linux": "cat",
      "darwin": "cat"
    },
    "argsConanInstall": "",
    "configNative": "{% ifNpmOption standalone_build %}native-xpack{% endifNpmOption %}{% unlessNpmOption standalone_build %}native{% endunlessNpmOption %}",
    "cwd": "{{ path.sep | path_relative: '.' }}",
    "verbose": "{% ifNpmOption loglevel %}--verbose{% endifNpmOption %}",
    "scriptBuildNative": "npx xpm install && npx xpm install --config {{ properties.configNative }} && npx xpm run prepare --config {{ properties.configNative }} && npx xpm run build --config {{ properties.configNative }}",
    "scriptBuildWASM": "npx xpm install && npx xpm install --config wasm && npx xpm run prepare --config wasm && npx xpm run build --config wasm",
    "scriptInstallNative": "npx prebuild-install -d {{ properties.verbose }} || ( {{ properties.scriptBuildNative }} )",
    "scriptInstallWASM": "npx prebuild-install --platform emscripten --arch wasm32 -d {{ properties.verbose }} || ( {{ properties.scriptBuildWASM }})"
  },
  "devDependencies": {
    "@mmomtchev/python-xpack": "3.12.11-2"
  },
  "actions": {
    "npm-install": [
      "{% ifNpmOption loglevel %}{{ properties.commandShowEnv[os.platform] }}{% endifNpmOption %}",
      "{% unlessNpmOption skip_native %}{{ properties.scriptInstallNative }}{% endunlessNpmOption %}",
      "{% unlessNpmOption skip_wasm %}{{ properties.scriptInstallWASM }}{% endunlessNpmOption %}"
    ],
    "python": "python",
    "env": "{{ properties.commandShowEnv[os.platform] }}"
  }
}
